@model QL_BanDoTreEm.Models.PHIEUDAT

@{
    ViewBag.Title = "TaoPhieuNhap";
    Layout = "~/Views/Shared/_LayoutADMIN.cshtml";
}

<h2>Đặt hàng</h2>

<div>
    <h4>Phiếu Đặt</h4>
    <hr />
    @*<dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.NGAYDATHANG): @Html.DisplayFor(model => model.NGAYDATHANG)
            </dt>

            <dt>
                @Html.DisplayNameFor(model => model.NHACUNGCAP.TENNHACUNGCAP)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.NHACUNGCAP.TENNHACUNGCAP)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.NHANVIEN.TENNHANVIEN)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.NHANVIEN.TENNHANVIEN)
            </dd>
        </dl>*@
    <div id="ChiTietPhieuNhap">@Html.Partial("ChiTietPhieuNhap")</div>
</div>

@*<a href="@Url.Action("XacNhan", new { maPD = Model.ID_PHIEUDAT })">Xác Nhận</a>
<a href="@Url.Action("Huy",  new { maPD = Model.ID_PHIEUDAT })">Hủy</a>*@
<a href="@Url.Action("XacNhan", new { maPD = Model.ID_PHIEUDAT })" style="display: inline-block; padding: 10px 20px; background-color: #4CAF50; color: #fff; text-decoration: none; border-radius: 5px; margin-right: 10px;">Xác Nhận</a>

<a href="@Url.Action("Huy", new { maPD = Model.ID_PHIEUDAT })" style="display: inline-block; padding: 10px 20px; background-color: #ff3333; color: #fff; text-decoration: none; border-radius: 5px;">Hủy</a>

<p style="margin-top:30px">
    @Html.ActionLink("Back to List", "SanPhamCanNhap")
</p>

<script>
    function thayDoiSoLuong(input) {
    var soLuong = input.value;
    var maPD = (input.id.split("-")[0]);
    var maHH =(input.id.split("-")[1]);

    $.ajax({
        url: '@Url.Action("ChiTietPhieuNhap")',
        type: 'GET',
         data: { maPD: maPD, maHH: maHH, soLuong: soLuong },
         success: function (data) {
             $('#ChiTietPhieuNhap').html(data);
        },
        error: function (ex) {
            alert('Error occurred: ' + ex.responseText);
        }
    });
}
</script>